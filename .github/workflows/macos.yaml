name: Workrave dependencies

on:
  push:
    branches: main
  workflow_dispatch:

jobs:
  dependencies:
    runs-on: macos-latest
    name: macOS dependencies

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup build env
        run: |
          brew install ninja
          brew outdated cmake || brew upgrade cmake

      - name: Build Boost
        run: |
          ./build-boost.sh

      - name: Build Fmt
        run: |
          ./build-fmt.sh

      - name: Build Spdlog
        run: |
          ./build-spdlog.sh

      - name: Build Qt
        run: |
          ./build-qt.sh
